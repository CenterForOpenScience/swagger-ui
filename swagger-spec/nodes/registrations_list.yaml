# /nodes/{node_id}/registrations/
get:
  summary: List all registrations
  description: >-
    List of all registrations of the given node.

    ####Returns


    Returns a JSON object containing `data` and `links` keys.


    The `data` key contains an array of up to 10 registrations.
    Each resource in the array is a separate registrations object.


    The `links` key contains a dictionary of links that can be used for [pagination](#Introduction_pagination).

    ####Filtering


    You can optionally request that the response only include registrations that match your filters by utilizing the filter query parameter, e.g. https://api.osf.io/v2/registrations/?filter[title]=open.


    Registrations may be filtered by their `id`, `title`, `category`, `description`, `public`, `tags`, `date_created`, `date_modified`, `root`, `parent`, and `contributors`.


  parameters:
    - in: path
      name: node_id
      type: string
      required: true
      description: 'The unique identifier of the node.'

  tags:
    - Nodes

  operationId: nodes_registrations_list
  x-response-schema: Registration
  responses:
    '200':
      description: 'OK'
      schema:
        type: array
        items:
          $ref: '../registrations/definition.yaml'
      # TODO: Need a better example from an actual OSF project.
      examples:
        application/json:
          data:
          - relationships:
              files:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/files/
                    meta: {}
              view_only_links:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/view_only_links/
                    meta: {}
              citation:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/citation/
                    meta: {}
              registration_schema:
                links:
                  related:
                    href: http://api.osf.io/v2/metaschemas/58c6f0d8ce8e8b000a54754b/
                    meta: {}
              logs:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/logs/
                    meta: {}
              contributors:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/contributors/
                    meta: {}
              forks:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/forks/
                    meta: {}
              root:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/
                    meta: {}
              identifiers:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/identifiers/
                    meta: {}
              comments:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/comments/?filter%5Btarget%5D=9ytbg
                    meta: {}
              registered_from:
                links:
                  related:
                    href: http://api.osf.io/v2/nodes/gaz5n/
                    meta: {}
              registered_by:
                links:
                  related:
                    href: http://api.osf.io/v2/users/4xpu9/
                    meta: {}
              linked_nodes:
                links:
                  self:
                    href: http://api.osf.io/v2/registrations/9ytbg/relationships/linked_nodes/
                    meta: {}
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/linked_nodes/
                    meta: {}
              wikis:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/wikis/
                    meta: {}
              affiliated_institutions:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/institutions/
                    meta: {}
              children:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/children/
                    meta: {}
            links:
              self: http://api.osf.io/v2/registrations/9ytbg/
              html: http://osf.io/9ytbg/
            attributes:
              registration_supplement: 'Pre-Registration in Social Psychology (van ''t Veer
                & Giner-Sorolla, 2016): Pre-Registration'
              pending_embargo_approval: false
              registration: true
              embargo_end_date:
              withdrawn: false
              withdrawal_justification:
              category: project
              preprint: false
              current_user_permissions:
              - read
              - write
              - admin
              title: 'Your awesome project title'
              registered_meta:
                dataCollectionDates:
                  comments: ""
                  value: ""
                  extra: ""
                description-methods:
                  comments: ""
                  value:
                    exclusion-criteria:
                      comments: ""
                      value:
                        question8b:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                    design:
                      comments: ""
                      value:
                        question2a:
                          comments: ""
                          value: ""
                          extra: ""
                        question2b:
                          comments: ""
                          value: ""
                          extra: ""
                        question3b:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                    procedure:
                      comments: ""
                      value:
                        question10b:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                    planned-sample:
                      comments: ""
                      value:
                        question4b:
                          comments: ""
                          value: ""
                          extra: ""
                        question7b:
                          comments: ""
                          value: ""
                          extra: ""
                        question5b:
                          comments: ""
                          value: ""
                          extra: ""
                        question6b-upload:
                          comments: ""
                          value: ""
                          extra: ""
                        question6b:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                  extra: ""
                recommended-analysis:
                  comments: ""
                  value:
                    specify:
                      comments: ""
                      value:
                        question6c:
                          comments: ""
                          value: ""
                          extra: ""
                        question8c:
                          comments: ""
                          value: ""
                          extra: ""
                        question9c:
                          comments: ""
                          value: ""
                          extra: ""
                        question7c:
                          comments: ""
                          value: ""
                          extra: ""
                        question11c:
                          comments: ""
                          value: ""
                          extra: ""
                        question10c:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                  extra: ""
                description-hypothesis:
                  comments: ""
                  value:
                    question2a:
                      comments: ""
                      value: ""
                      extra: ""
                    question1a:
                      comments: ""
                      value: ""
                      extra: ""
                    question3a:
                      comments: ""
                      value: ""
                      extra: ""
                  extra: ""
                confirmatory-analyses-first:
                  comments: ""
                  value:
                    first:
                      comments: ""
                      value:
                        question4c:
                          comments: ""
                          value: ""
                          extra: ""
                        question5c:
                          comments: ""
                          value: ""
                          extra: ""
                        question2c:
                          comments: ""
                          value: ""
                          extra: ""
                        question3c:
                          comments: ""
                          value: ""
                          extra: ""
                        question1c:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                  extra: ""
                confirmatory-analyses-third:
                  comments: ""
                  value:
                    third:
                      comments: ""
                      value:
                        question4c:
                          comments: ""
                          value: ""
                          extra: ""
                        question5c:
                          comments: ""
                          value: ""
                          extra: ""
                        question2c:
                          comments: ""
                          value: ""
                          extra: ""
                        question3c:
                          comments: ""
                          value: ""
                          extra: ""
                        question1c:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                  extra: ""
                datacompletion:
                  comments: ""
                  value: ""
                  extra: ""
                looked:
                  comments: ""
                  value: ""
                  extra: ""
                confirmatory-analyses-fourth:
                  comments: ""
                  value:
                    fourth:
                      comments: ""
                      value:
                        question4c:
                          comments: ""
                          value: ""
                          extra: ""
                        question5c:
                          comments: ""
                          value: ""
                          extra: ""
                        question2c:
                          comments: ""
                          value: ""
                          extra: ""
                        question3c:
                          comments: ""
                          value: ""
                          extra: ""
                        question1c:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                  extra: ""
                confirmatory-analyses-further:
                  comments: ""
                  value:
                    further:
                      comments: ""
                      value:
                        question4c:
                          comments: ""
                          value: ""
                          extra: ""
                        question5c:
                          comments: ""
                          value: ""
                          extra: ""
                        question2c:
                          comments: ""
                          value: ""
                          extra: ""
                        question3c:
                          comments: ""
                          value: ""
                          extra: ""
                        question1c:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                  extra: ""
                recommended-hypothesis:
                  comments: ""
                  value:
                    question5a:
                      comments: ""
                      value: ""
                      extra: ""
                    question4a:
                      comments: ""
                      value: ""
                      extra: ""
                    question6a:
                      comments: ""
                      value: ""
                      extra: ""
                  extra: ""
                additionalComments:
                  comments: ""
                  value: ""
                  extra: ""
                confirmatory-analyses-second:
                  comments: ""
                  value:
                    second:
                      comments: ""
                      value:
                        question4c:
                          comments: ""
                          value: ""
                          extra: ""
                        question5c:
                          comments: ""
                          value: ""
                          extra: ""
                        question2c:
                          comments: ""
                          value: ""
                          extra: ""
                        question3c:
                          comments: ""
                          value: ""
                          extra: ""
                        question1c:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                  extra: ""
                recommended-methods:
                  comments: ""
                  value:
                    procedure:
                      comments: ""
                      value:
                        question9b-file:
                          comments: ""
                          value: ""
                          extra: ""
                        question9b:
                          comments: ""
                          value: ""
                          extra: ""
                      extra: ""
                  extra: ""
              public: false
              fork: false
              description: 'Your awesome project description'
              tags: ""
              collection: false
              current_user_can_comment: true
              pending_registration_approval: true
              date_modified: '2017-03-21T17:36:37.797687'
              date_registered: '2017-03-22T12:57:20.767877'
              node_links:
                links:
                  related:
                    href: http://api.osf.io/v2/registrations/9ytbg/node_links/
                    meta: {}
              date_created: '2017-03-20T20:12:17.002426'
              pending_withdrawal: false
              node_license:
            type: registrations
            id: 9ytbg
          links:
            first:
            last:
            prev:
            next:
            meta:
            total: 1
            per_page: 10

post:
  summary: Create a registration
  description: >-
    Create a registration for a given node.


    To create a registration, `draft_registration` must be the `id` of a completed draft registration created for the current node.


    All required supplemental questions in the draft registration must have been answered.


    Registration choice should be 'embargo' if you wish to add an embargo date to the registration.
    Registrations can have embargo periods for up to four years. 'lift_embargo' should be the embargo end date.
    When the embargo expires, the registration will be made public. If 'immediate' is selected as the "registration_choice",
    the registration will be made public once it is approved.


    #### Returns

    Returns a JSON object with a `data` key containing the representation of the new registration, if the request is successful.


    If the request is unsuccessful, an `errors` key containing information about the failure will be returned.
    Refer to the [list of error codes](#Introduction_error_codes) to understand why this request may have failed.

  parameters:
    - in: path
      type: string
      name: node_id
      required: true
      description: 'The unique identifier of the node.'
    - in: body
      name: body
      required: true
      schema:
        $ref: '../registrations/definition.yaml'
  tags:
    - Nodes
  operationId: nodes_registrations_create
  x-response-schema: Registration
  consumes:
    - application/json
  responses:
    '201':
      description: 'Success'
